<div class="max-w-3xl mx-auto p-8">
  <!-- ヘッダー -->
  <div class="flex justify-end space-x-2 mb-4">
    <%= link_to '新規投稿', new_post_path, class: "btn btn-outline" %>
    <%= link_to 'マイページ', user_path(current_user), class: "btn bg-yellow-400 text-white" %>
    <%= link_to 'トップページ', root_path, class: "btn btn-primary" %>
  </div>

  <h1 class="text-3xl font-bold text-center mb-8">新規投稿</h1>

  <div id="post_form">
    <%= form_with model: @post, data: { turbo_stream: true }, html: { multipart: true } do |f| %>

    <% if @post.errors.any? %>
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6">
        <p><strong><%= pluralize(@post.errors.count, "件のエラー") %>があります:</strong></p>
        <ul class="list-disc pl-6">
          <% @post.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

      <div class="space-y-6">
        <!-- 店舗名 -->
        <div>
          <%= f.label :store_name, "店舗名", class: "font-bold" %>
          <%= f.text_field :store_name, placeholder: "店舗名", class: "input w-full bg-gray-100" %>
        </div>

        <!-- コメント -->
        <div>
          <%= f.label :review, "コメント", class: "font-bold" %>
          <%= f.text_area :review, placeholder: "コメント", class: "textarea w-full bg-gray-100" %>
        </div>

        <!-- 住所 -->
        <div>
          <%= f.label :address, "住所", class: "font-bold" %>
          <%= f.text_field :address, placeholder: "住所", class: "input w-full bg-gray-100" %>
        </div>

        <!-- 画像 -->
        <div>
          <%= f.label :post_image, "画像", class: "font-bold" %>
          <%= f.file_field :post_image, class: "file-input bg-gray-100" %>
        </div>

        <!-- 星評価 -->
        <div class="rating rating-lg">
          <% 5.times do |i| %>
            <%= f.radio_button :rating, i + 1, id: "rating_#{i+1}", class: "sr-only", checked: @post.rating.to_i == (i + 1) %>
            <label for="rating_<%= i+1 %>" class="mask mask-star-2 bg-yellow-400 cursor-pointer"></label>
          <% end %>
        </div>

        <!-- ボタン -->
        <div class="flex justify-center mt-6">
          <%= f.submit "投稿する", class: "btn bg-indigo-500 text-white w-1/2" %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<!-- フッター -->
<footer class="bg-yellow-100 mt-12 py-4 text-center text-sm text-gray-700 space-x-6">
  <%= link_to '利用規約', terms_path %>
  <%= link_to 'プライバシー規約', privacy_path %>
  <%= link_to 'お問い合わせ先', contact_path %>
</footer>
